_作者：hszemi_

---

游戏模组（Mods, “modifications” 的缩写）允许您自定义您的游戏。
最常见的模组类型是：

1. 附加内容（如随机地图脚本、场景或战役），
2. 用户界面模组（例如将资源栏移至底部），
3. 图形模组（如小树或闲置的村民指针），
4. 数据模组（如爆炸村民模组或无墙模组）。

**模组通过修改或添加游戏目录中的文件来工作。**
困难的是弄清楚您需要修改哪些文件以及如何修改。

当然，您可以直接编辑游戏文件夹中的文件，但这有以下缺点：

-   它改变了你的原版游戏
-   您无法在不同的修改之间轻松切换
-   您无法快速禁用和启用您的修改
-   如果你破坏了某些东西，你不能简单地从游戏文件中获取原始文件并重新开始

这些可以通过将您的修改捆绑到游戏模组中来解决的，然后您可以通过游戏内模组中心轻松管理这些模组。

有两种模组：本地模组和订阅模组。

**本地模组** 只存在于您计算机上的文件夹中。

**订阅模组** 已发布在模组中心，并且您已订阅。

在开发模组时，您通常会使用本地模组来测试您的修改。
一旦准备就绪，您就可以发布它，以便其他人可以订阅它并使用它。
已发布的模组也可以更新为新版本。
如果您订阅了某个模组，游戏会定期检查这些模组的新版本并自动下载它们。

## 创建本地模组

首先，您需要找到本地模组文件夹。 您通常可以在以下位置找到它：

```
%USERPROFILE%/Games/Age of Empires 2 DE/你的 ID/mods
```

它包含两个文件夹：`local` 文件夹包含您的本地模组；`subscribed` 文件夹包含您订阅的模组。

在 `local` 文件夹内，创建一个具有描述您的模组的任意名称的文件夹。
出于演示目的，我们将其称为 `funktown`。

在 `funktown` 内部，将所有修改后的文件和新文件放置在您在游戏目录中找到的同一文件夹结构中。

例如，如果您想提供 `resources/zh/strings/key-value/key-value-modded-strings-utf8.txt` 的修改版本，则必须创建 `resources/zh/strings/key-value` 作为 `funktown` 内的子文件夹，然后将您的 `key-value-modded-strings-utf8.txt` 版本放入该 `key-value` 文件夹中。

如果您还想添加一个名为 `FunkyTown-v3.rms` 的新随机地图脚本到随机地图选择中，您同样必须创建 `resources/_common/random-map-scripts` 作为 `funktown` 内的子文件夹，然后将 `FunkyTown-v3.rms` 文件放入 `random-map-scripts`文件夹中。

最后，为了给你的新本地模组在模组中心提供一个可识别的名称，请在 `funktown` 文件夹中创建一个名为 `info.json` 的文件，并添加以下内容（当然你可以调整这些值）：

```json
{
    "Author": "作者",
    "CacheStatus": 0,
    "Description": "描述",
    "Title": "标题"
}
```

模组文件夹 `local` 的内容现在应如下所示：

![截图](imgs/local-mod-content-structure.png)

## 发布模组

发布模组有两种方法：从游戏内部发布，或者将其作为压缩存档上传到 ageofempires.com 网站

### 从游戏内部发布

1. 您需要在游戏内通过 XBOX Live 登录才能在游戏内发布模组。
2. 在模组中心，打开“我的模组”选项卡，其中列出了您的本地模组。
3. 选择您要发布的模组，然后点击“发布模组”。

### 通过在 ageofempires.com 上上传 zip 文件进行发布

1. 将本地模组的内容放入 zip 文件中，使 zip 文件具有如下结构（不需要 `info.json` 文件）：
   ![截图](imgs/mod-zip-content-structure.png)
2. 使用您的 XBOX Live 帐户登录 ageofempires.com。
3. 从导航菜单中，选择模组 > 提交模组。
4. 在表格中填写适当的值。
5. 对于 Zip 文件上传，选择您在开始时创建的 zip 文件。
6. 一旦您提交，您的模组就会被发布。
   请耐心等待，这可能需要几分钟。

## 更新已发布的模组

随着时间的推移，您可能想要更新或改进您的模组。
然后，您当然想要更新您发布的模组，这样其他人也可以从改进中受益。

### 从游戏内部进行更新

要通过游戏更新模组：

1. 进入游戏内模组菜单，
2. 进入“我的模组”选项卡
3. 点击您要更新的模组
4. 点击“更新模组”
5. 在提供的字段中输入相关信息
6. 使用用户界面左上角的“选择文件夹”选项选择包含您的模组的文件夹
7. 点击“发布”并等待几秒钟。模组启动后，您将被重定向到您的模组的 ageofempires.com 页面

### 通过 ageofempires.com 更新

要通过 Ageofempires.com 网站更新模组，您：

1. 创建一个新的 zip 文件，其中包含 mod 的所有内容
2. 在网站上打开你要更新的 mod，点击编辑
3. 在“Zip 文件上传”下选择新的 zip 文件。
4. 您还可以在“更改列表”字段中描述本次更新中的更改内容。
5. 单击“提交”，等待几秒/分钟，您的模组应该已更新。

## 疑难解答

### 1. 您在更新/下载模组或登录时遇到问题吗？

也许模组中心只是正在经历一个出现技术问题的阶段。
这种情况经常发生。
询问其他模组作者是否遇到同样的问题。

### 2. 您在模组中添加的内容是否未显示在游戏中？

也许你的模组被禁用了。
这会在游戏更新后自动发生。

也许您的文件不在正确的位置。
仔细检查您的文件夹名称是否有拼写错误，并检查您的文件夹整体结构是否与上面概述的相符。

也许您正在尝试将数据模组与用户界面或内容模组结合起来。
虽然根据补丁说明这应该是可能的，但此功能似乎再次被破坏。
